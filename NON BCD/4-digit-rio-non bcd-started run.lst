
ASEM-51 V1.3                                         Copyright (c) 2002 by W.W. Heinz                                         PAGE 1





       MCS-51 Family Macro Assembler   A S E M - 5 1   V 1.3
       =====================================================



	Source File:	D:\Semester 6\Prak Mikroproeseor\vscode_assembly\vscode_assembly\UAS Prak Mikro\NON BCD\4-digit-rio-non bcd-started run.asm
	Object File:	D:\Semester 6\Prak Mikroproeseor\vscode_assembly\vscode_assembly\UAS Prak Mikro\NON BCD\4-digit-rio-non bcd-started run.hex
	List File:	D:\Semester 6\Prak Mikroproeseor\vscode_assembly\vscode_assembly\UAS Prak Mikro\NON BCD\4-digit-rio-non bcd-started run.lst



 Line  I  Addr  Code            Source

    1:
    2:				; By : Rio Bastian	|	09011282025039		| SK6A Reguler
    3:		N      0000			ORG 000H
    4:	  0000	02 00 5B			ljmp MULAI
    5:
    6:	  0003			NOL:		;7-Segment untuk angka 0
    7:	  0003	B4 00 03			CJNE	A,#00H,SATU
    8:	  0006	7B 3F				MOV	R3,#3FH
    9:	  0008	22		        RET
   10:
   11:	  0009			SATU:		;7-Segment untuk angka 1
   12:	  0009	B4 01 03			CJNE	A,#01H,DUA
   13:	  000C	7B 06				MOV	R3,#06H
   14:	  000E	22		        RET
   15:
   16:	  000F			DUA:		;7-Segment untuk angka 2
   17:	  000F	B4 02 03			CJNE	A,#02H,TIGA
   18:	  0012	7B 5B				MOV	R3,#5BH
   19:	  0014	22		        RET
   20:
   21:	  0015			TIGA:		;7-Segment untuk angka 3
   22:	  0015	B4 03 03			CJNE	A,#03H,EMPAT
   23:	  0018	7B 4F				MOV	R3,#4FH
   24:	  001A	22		        RET
   25:
   26:	  001B			EMPAT:		;7-Segment untuk angka 4
   27:	  001B	B4 04 03			CJNE	A,#04H,LIMA
   28:	  001E	7B 66				MOV	R3,#66H
   29:	  0020	22		        RET
   30:
   31:	  0021			LIMA:		;7-Segment untuk angka 5
   32:	  0021	B4 05 03			CJNE	A,#05H,ENAM
   33:	  0024	7B 6D				MOV	R3,#6DH
   34:	  0026	22		        RET
   35:
   36:	  0027			ENAM:		;7-Segment untuk angka 6
   37:	  0027	B4 06 03			CJNE	A,#06H,TUJUH
   38:	  002A	7B 7D				MOV	R3,#7DH
   39:	  002C	22		        RET
   40:
   41:	  002D			TUJUH:		;7-Segment untuk angka 7
   42:	  002D	B4 07 03			CJNE	A,#07H,DELAPAN
   43:	  0030	7B 07				MOV	R3,#07H

ASEM-51 V1.3                                         Copyright (c) 2002 by W.W. Heinz                                         PAGE 2



 Line  I  Addr  Code            Source

   44:	  0032	22		        RET
   45:
   46:	  0033			DELAPAN:	;7-Segment untuk angka 8
   47:	  0033	B4 08 03			CJNE	A,#08H,SEMBILAN
   48:	  0036	7B 7F				MOV	R3,#7FH
   49:	  0038	22		        RET
   50:
   51:	  0039			SEMBILAN:	;7-Segment untuk angka 9
   52:	  0039	B4 09 03	        CJNE	A,#09H,NOTHING
   53:	  003C	7B 6F		        MOV	R3,#6FH
   54:	  003E	22		        RET
   55:
   56:	  003F			NOTHING:	; Jika tidak ada angka yang cocok
   57:	  003F	22		        RET
   58:
   59:	  0040			DISPLAY:	; Menampilkan nilai pada 7-Segment
   60:	  0040	EF		        MOV     A,R7
   61:	  0041	12 00 03	        LCALL	NOL
   62:	  0044	8B B0		        MOV	    P3,R3
   63:
   64:	  0046	EE		        MOV     A,R6
   65:	  0047	12 00 03	        LCALL	NOL
   66:	  004A	8B A0		        MOV	    P2,R3
   67:
   68:	  004C	ED		        MOV     A,R5
   69:	  004D	12 00 03	        LCALL	NOL
   70:	  0050	8B 90		        MOV	    P1,R3
   71:
   72:	  0052	EC		        MOV     A,R4
   73:	  0053	12 00 03	        LCALL	NOL
   74:	  0056	8B 80		        MOV	    P0,R3
   75:
   76:	  0058	02 00 94	        LJMP	COUNTER
   77:
   78:	  005B			MULAI:		; Inisiasi Nilai Register
   79:	  005B	75 80 3F			MOV	P0,#3FH			; Digunakan untuk menampilikan digit 1
   80:	  005E	75 90 3F			MOV	P1,#3FH			; Digunakan untuk menampilikan digit 2
   81:	  0061	75 A0 3F			MOV	P2,#3FH			; Digunakan untuk menampilikan digit 3
   82:	  0064	75 B0 3F			MOV	P3,#3FH			; Digunakan untuk menampilikan digit 4
   83:	  0067	7B 00		        MOV R3,#00H         ; Digunakan untuk menampung nilai display
   84:	  0069	7C 00				MOV	R4,#00H			; Counter Digit 1
   85:	  006B	7D 00				MOV	R5,#00H			; Counter Digit 2
   86:	  006D	7E 00				MOV	R6,#00H			; Counter Digit 3
   87:	  006F	7F 00				MOV	R7,#00H			; Counter Digit 4
   88:	  0071	74 00				MOV	 A,#00H
   89:	  0073	02 00 94			LJMP COUNTER
   90:
   91:	  0076			COUNTKEY:	; Tombol Trigger Untuk Menambah Waktu Menit
   92:	  0076	20 A7 FD			JB		P2.7,COUNTKEY
   93:
   94:	  0079			TIMEOUT_TOMBOL:	; Waktu Tunggu Tombol Untuk Menambah Waktu Menit atau Menampilkannya
   95:	  0079	20 A7 09			JB		P2.7,add_minutes
   96:	  007C	DA FB				djnz 	R2,TIMEOUT_TOMBOL
   97:	  007E	D9 F9				djnz 	R1,TIMEOUT_TOMBOL
   98:	  0080	D8 F7				djnz 	R0,TIMEOUT_TOMBOL
   99:	  0082	02 00 40			LJMP	DISPLAY

ASEM-51 V1.3                                         Copyright (c) 2002 by W.W. Heinz                                         PAGE 3



 Line  I  Addr  Code            Source

  100:
  101:	  0085			add_minutes:	; Fungsi untuk Menambah Waktu Menit
  102:	  0085	0D				INC 	R5
  103:	  0086	BD 0A ED			CJNE 	R5,#0AH,COUNTKEY
  104:	  0089	7D 00				MOV		R5,#00H
  105:
  106:	  008B	0C				INC 	R4
  107:	  008C	BC 06 E7			CJNE 	R4,#06H,COUNTKEY
  108:	  008F	7C 00				MOV		R4,#00H
  109:	  0091	02 00 76			LJMP    COUNTKEY
  110:
  111:	  0094			COUNTER:      ; Main Program untuk Hitung Waktu
  112:	  0094	12 00 CB			LCALL	TUNDA
  113:	  0097	20 B7 C1			jb		P3.7,MULAI
  114:	  009A	20 A7 1B			jb 		P2.7, RESET_VALUE
  115:
  116:						; COUNTER DIGIT 4
  117:	  009D	0F				INC 	R7
  118:	  009E	BF 0A 9F			CJNE 	R7,#0AH,DISPLAY
  119:	  00A1	7F 00				MOV		R7,#00H
  120:
  121:						; COUNTER DIGIT 3
  122:	  00A3	0E				INC 	R6
  123:	  00A4	BE 06 99			CJNE 	R6,#06H,DISPLAY
  124:	  00A7	7E 00				MOV		R6,#00H
  125:
  126:						; COUNTER DIGIT 2
  127:	  00A9	0D				INC 	R5
  128:	  00AA	BD 0A 93			CJNE 	R5,#0AH,DISPLAY
  129:	  00AD	7D 00				MOV		R5,#00H
  130:
  131:						; COUNTER DIGIT 1
  132:	  00AF	0C				INC 	R4
  133:	  00B0	BC 06 8D			CJNE 	R4,#06H,DISPLAY
  134:	  00B3	7C 00				MOV		R4,#00H
  135:	  00B5	02 00 40			LJMP    DISPLAY
  136:
  137:	  00B8			RESET_VALUE:	; Reset Nilai Menit Jika Tombol Setting Ditekan
  138:	  00B8	7D 00				MOV		R5,#00H
  139:	  00BA	7C 00				MOV		R4,#00H
  140:
  141:	  00BC	ED				MOV     A,R5
  142:	  00BD	12 00 03	        LCALL	NOL
  143:	  00C0	8B 90		        MOV	    P1,R3
  144:
  145:	  00C2	EC		        MOV     A,R4
  146:	  00C3	12 00 03	        LCALL	NOL
  147:	  00C6	8B 80		        MOV	    P0,R3
  148:
  149:	  00C8	02 00 79			LJMP	TIMEOUT_TOMBOL
  150:
  151:	  00CB	78 15		TUNDA:	MOV		R0,#15H
  152:	  00CD	D9 FE		TUND:	DJNZ	R1,TUND
  153:	  00CF	DA FC				DJNZ	R2,TUND
  154:	  00D1	D8 FA				DJNZ	R0,TUND
  155:	  00D3	22				RET

ASEM-51 V1.3                                         Copyright (c) 2002 by W.W. Heinz                                         PAGE 4



 Line  I  Addr  Code            Source

  156:
  157:				END





                     register banks used:  ---

                     no errors




ASEM-51 V1.3                                         Copyright (c) 2002 by W.W. Heinz                                         PAGE 5





	       L I S T   O F   S Y M B O L S
	       =============================


SYMBOL				  TYPE     VALUE	LINE
------------------------------------------------------------
??ASEM_51			  NUMBER    8051
??VERSION			  NUMBER    0130
AC				  BIT	      D6
ACC				  DATA	      E0
ADD_MINUTES			  CODE	    0085	 101
B				  DATA	      F0
COUNTER				  CODE	    0094	 111
COUNTKEY			  CODE	    0076	  91
CY				  BIT	      D7
DELAPAN				  CODE	    0033	  46
DISPLAY				  CODE	    0040	  59
DPH				  DATA	      83
DPL				  DATA	      82
DUA				  CODE	    000F	  16
EA				  BIT	      AF
EMPAT				  CODE	    001B	  26
ENAM				  CODE	    0027	  36
ES				  BIT	      AC
ET0				  BIT	      A9
ET1				  BIT	      AB
EX0				  BIT	      A8
EX1				  BIT	      AA
EXTI0				  CODE	    0003
EXTI1				  CODE	    0013
F0				  BIT	      D5
IE				  DATA	      A8
IE0				  BIT	      89
IE1				  BIT	      8B
INT0				  BIT	      B2
INT1				  BIT	      B3
IP				  DATA	      B8
IT0				  BIT	      88
IT1				  BIT	      8A
LIMA				  CODE	    0021	  31
MULAI				  CODE	    005B	  78
NOL				  CODE	    0003	   6
NOTHING				  CODE	    003F	  56
OV				  BIT	      D2
P				  BIT	      D0
P0				  DATA	      80
P1				  DATA	      90
P2				  DATA	      A0
P3				  DATA	      B0
PCON				  DATA	      87
PS				  BIT	      BC
PSW				  DATA	      D0
PT0				  BIT	      B9
PT1				  BIT	      BB
PX0				  BIT	      B8
PX1				  BIT	      BA

ASEM-51 V1.3                                         Copyright (c) 2002 by W.W. Heinz                                         PAGE 6



SYMBOL				  TYPE     VALUE	LINE
------------------------------------------------------------
RB8				  BIT	      9A
RD				  BIT	      B7
REN				  BIT	      9C
RESET				  CODE	    0000
RESET_VALUE			  CODE	    00B8	 137
RI				  BIT	      98
RS0				  BIT	      D3
RS1				  BIT	      D4
RXD				  BIT	      B0
SATU				  CODE	    0009	  11
SBUF				  DATA	      99
SCON				  DATA	      98
SEMBILAN			  CODE	    0039	  51
SINT				  CODE	    0023
SM0				  BIT	      9F
SM1				  BIT	      9E
SM2				  BIT	      9D
SP				  DATA	      81
T0				  BIT	      B4
T1				  BIT	      B5
TB8				  BIT	      9B
TCON				  DATA	      88
TF0				  BIT	      8D
TF1				  BIT	      8F
TH0				  DATA	      8C
TH1				  DATA	      8D
TI				  BIT	      99
TIGA				  CODE	    0015	  21
TIMEOUT_TOMBOL			  CODE	    0079	  94
TIMER0				  CODE	    000B
TIMER1				  CODE	    001B
TL0				  DATA	      8A
TL1				  DATA	      8B
TMOD				  DATA	      89
TR0				  BIT	      8C
TR1				  BIT	      8E
TUJUH				  CODE	    002D	  41
TUND				  CODE	    00CD	 152
TUNDA				  CODE	    00CB	 151
TXD				  BIT	      B1
WR				  BIT	      B6
